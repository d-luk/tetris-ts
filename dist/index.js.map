{"version":3,"sources":["webpack:///webpack/bootstrap 42262bd97d4d06f913c5","webpack:///./src/interfaces/point.ts","webpack:///./src/services/matrix-calculations.ts","webpack:///./src/models/board.ts","webpack:///./src/models/panel.ts","webpack:///./src/services/arrays.ts","webpack:///./src/models/player.ts","webpack:///./src/services/clear-panel.ts","webpack:///./src/services/draw-grid.ts","webpack:///./src/models/color.ts","webpack:///./src/settings.ts","webpack:///./src/services/draw-matrix.ts","webpack:///./src/models/shape.ts","webpack:///./src/models/shapes/i.ts","webpack:///./src/models/shapes/j.ts","webpack:///./src/models/shapes/l.ts","webpack:///./src/models/shapes/o.ts","webpack:///./src/models/shapes/s.ts","webpack:///./src/models/shapes/t.ts","webpack:///./src/models/shapes/z.ts","webpack:///./src/services/random-shape.ts","webpack:///./src/index.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;ACxDM,oBAAqB,KAAa;IACpC,MAAM,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC;AACtC,CAAC;;;ACHK,sBAAuB,IAAW;IACpC,IAAM,MAAM,GAAW,EAAE,CAAC;IAC1B,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE,CAAC;QACxC,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IACD,MAAM,CAAC,MAAM,CAAC;AAClB,CAAC;AAEK,oBAAqB,MAAc;IACrC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAS,UAAC,MAAM,EAAE,GAAG,EAAE,CAAC;QACxC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC;QACxB,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC,EAAE,EAAE,CAAC,CAAC;AACX,CAAC;AAMK,uBAAwB,EAAU,EAAE,EAAU,EAAE,QAAgB,EAAE,MAAe;IACnF,IAAM,MAAM,GAAG,MAAM,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;IAExC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACjC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACpC,IAAM,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvB,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,WAAW,CAAC;gBAAC,QAAQ,CAAC;YAE3C,IAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;YACzB,IAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;YAEzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM;gBACvB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;gBAC1B,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3B,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;YACzB,CAAC;QACL,CAAC;IACL,CAAC;IAED,MAAM,CAAC,MAAM,CAAC;AAClB,CAAC;AAEK,mBAAoB,MAAc,EAAE,MAAc,EAAE,QAAgB;IACtE,aAAa,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;AACpD,CAAC;AAKK,kBAAmB,MAAc;IACnC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC;SACtB,MAAM,CAAS,UAAC,MAAM,EAAE,GAAG,EAAE,CAAC;QAE3B,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC;QAC1B,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC,EAAE,EAAE,CAAC,CAAC;AACf,CAAC;AAKK,sBAAuB,MAAc,EAAE,OAAe;IAAf,yCAAe;IACxD,IAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;IACxB,IAAM,MAAM,GAAG,YAAY,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;IAGrD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;QACzB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YACzB,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO;kBAChB,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;kBACpB,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC/B,CAAC;IACL,CAAC;IAED,MAAM,CAAC,MAAM,CAAC;AAClB,CAAC;AAKK,wBAAyB,MAAc,EAAE,KAAa,EAAE,QAAgB;IAC1E,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACpC,IAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAClC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAAC,QAAQ,CAAC;YAEtB,IAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;YACzB,IAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;YAEzB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,MAAM;gBAC3B,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjC,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;QACL,CAAC;IACL,CAAC;IAED,MAAM,CAAC,IAAI,CAAC;AAChB,CAAC;AAEK,2BAA4B,EAAU,EAAE,EAAU,EAAE,QAAgB;IACtE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACjC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACpC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAC,QAAQ,CAAC;YACxB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;QACL,CAAC;IACL,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACjB,CAAC;;;AC7G8F;AAG/F;IAMI,eAAY,IAAW;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAPD,sBAAW,yBAAM;aAAjB,cAAsB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;;OAAA;IASrC,qBAAK,GAAZ,UAAa,KAAY,EAAE,QAAgB;QACvC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACnD,CAAC;IAEM,qBAAK,GAAZ;QACI,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAClD,CAAC;IACL,CAAC;IAEM,wBAAQ,GAAf,UAAgB,MAAc,EAAE,QAAgB;QAC5C,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC1D,CAAC;IAEM,wBAAQ,GAAf,UAAgB,MAAc,EAAE,QAAgB;QAC5C,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC;eAChC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC5D,CAAC;IACL,YAAC;AAAD,CAAC;;;;AC7BK,kBAAmB,QAAgB,EAAE,IAAW;IAClD,IAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAsB,CAAC;IACtE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;QAAC,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;IAClD,IAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACpC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;QAAC,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;IAEhD,MAAM,CAAC,EAAE,GAAG,OAAE,IAAI,QAAE,CAAC;AACzB,CAAC;;;ACdK,mBAAuB,KAAU,EAAE,SAA8C;IACnF,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACpC,IAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACvB,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;IACL,CAAC;AACL,CAAC;AAEK,iBAAqB,KAAU,EAAE,SAA8C;IACjF,MAAM,CAAC,OAAO,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,KAAK,WAAW,CAAC;AAC9D,CAAC;;;ACXwD;AACD;AAIxD;IACI,gBACW,KAAY,EACZ,QAAgB;QADhB,UAAK,GAAL,KAAK,CAAO;QACZ,aAAQ,GAAR,QAAQ,CAAQ;IACvB,CAAC;IAME,qCAAoB,GAA3B,UAA4B,KAAY;QACpC,IAAM,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAG3C,IAAM,IAAI,GAAI,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,aAAG;YAE1C,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,eAAK,IAAI,QAAC,CAAC,KAAK,EAAP,CAAO,CAAC,CAAC;QAC1C,CAAC,CAAY,GAAG,QAAQ,CAAC,CAAC,CAAC;QAG3B,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;YACX,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YACvB,MAAM,CAAC,QAAQ,CAAC;QACpB,CAAC;QAGD,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM;YACjC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,aAAG;gBAEvC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,eAAK,IAAI,QAAC,CAAC,KAAK,EAAP,CAAO,CAAC,CAAC;YAC1C,CAAC,CAAY,GAAG,QAAQ,CAAC,CAAC,CAAC;QAG/B,EAAE,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC9B,QAAQ,CAAC,CAAC,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;YAC1C,MAAM,CAAC,QAAQ,CAAC;QACpB,CAAC;QAED,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IACL,aAAC;AAAD,CAAC;;;;AC3Ca,oBAAqB,KAAa;IAC5C,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACnE,CAAC;;;ACDa,kBAAmB,KAAa,EAAE,QAAe;IAC3D,IAAM,QAAQ,GAAU;QACpB,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK;QACxC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM;KAC9C,CAAC;IAEM,mBAAG,CAAW;IACtB,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC;IAE5B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE,CAAC;QACxD,GAAG,CAAC,SAAS,EAAE,CAAC;QAChB,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjB,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACjC,GAAG,CAAC,MAAM,EAAE,CAAC;IACjB,CAAC;IAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,QAAQ,CAAC,MAAM,EAAE,CAAC;QAC1D,GAAG,CAAC,SAAS,EAAE,CAAC;QAChB,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAChC,GAAG,CAAC,MAAM,EAAE,CAAC;IACjB,CAAC;AACL,CAAC;;;ACzBD,IAAY,KAQX;AARD,WAAY,KAAK;IACb,qCAAU;IACV,iCAAQ;IACR,+BAAO;IACP,mCAAS;IACT,qCAAU;IACV,iCAAQ;IACR,qCAAU;AACd,CAAC,EARW,KAAK,KAAL,KAAK,QAQhB;;;ACRD,IAAM,QAAQ,GAAG;IACb,cAAc,EAAE,KAAK;CACxB,CAAC;AAEF,2DAAe,QAAQ,EAAC;;;ACHgB;AAEL;AAErB,oBAAqB,KAAa,EAAE,MAAc,EAAE,QAAgB;IAC9E,IAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;IAEtB,MAAM,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC,IAAK,UAAG,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,CAAC;QAC3C,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,WAAW;YAC3B,CAAC,sBAAQ,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC;QAE9C,GAAG,CAAC,SAAS,GAAG,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;QACtD,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,EAAE,CAAC,GAAG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;IACjE,CAAC,CAAC,EANyB,CAMzB,CAAC,CAAC;AACR,CAAC;AAED,sBAAsB,KAAY;IAC9B,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;QACZ,KAAK,KAAK,CAAC,MAAM;YACb,MAAM,CAAC,SAAS,CAAC;QACrB,KAAK,KAAK,CAAC,IAAI;YACX,MAAM,CAAC,SAAS,CAAC;QACrB,KAAK,KAAK,CAAC,GAAG;YACV,MAAM,CAAC,SAAS,CAAC;QACrB,KAAK,KAAK,CAAC,KAAK;YACZ,MAAM,CAAC,SAAS,CAAC;QACrB,KAAK,KAAK,CAAC,MAAM;YACb,MAAM,CAAC,SAAS,CAAC;QACrB,KAAK,KAAK,CAAC,IAAI;YACX,MAAM,CAAC,SAAS,CAAC;QACrB,KAAK,KAAK,CAAC,MAAM;YACb,MAAM,CAAC,SAAS,CAAC;QACrB;YACI,MAAM,CAAC,MAAM,CAAC;IACtB,CAAC;AACL,CAAC;;;ACnC8D;AAE/D;IAMI,eAAY,MAAc;QACtB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IAC1B,CAAC;IAND,sBAAW,yBAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IAMM,sBAAM,GAAb,UAAc,OAAe;QAAf,yCAAe;QACzB,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACvD,CAAC;IACL,YAAC;AAAD,CAAC;;;;;;;;;;;;;;AChB6D;AAC7B;AACJ;AAE7B,IAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;AAErB;IAA+B,qBAAK;IAChC;eACI,kBAAM,QAAQ,CAAC;YACX,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YACZ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YACZ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YACZ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SACf,CAAC,CAAC;IACP,CAAC;IACL,QAAC;AAAD,CAAC,CAT8B,mBAAK,GASnC;;;;;;;;;;;;;;ACf6D;AAC7B;AACJ;AAE7B,IAAM,GAAC,GAAG,KAAK,CAAC,IAAI,CAAC;AAErB;IAA+B,uBAAK;IAChC;eACI,kBAAM,QAAQ,CAAC;YACX,CAAC,CAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACT,CAAC,CAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACT,CAAC,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC;SACZ,CAAC,CAAC;IACP,CAAC;IACL,QAAC;AAAD,CAAC,CAR8B,mBAAK,GAQnC;;;;;;;;;;;;;;ACd6D;AAC7B;AACJ;AAE7B,IAAM,GAAC,GAAG,KAAK,CAAC,MAAM,CAAC;AAEvB;IAA+B,uBAAK;IAChC;eACI,kBAAM,QAAQ,CAAC;YACX,CAAC,CAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACT,CAAC,CAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACT,CAAC,CAAC,EAAE,GAAC,EAAE,GAAC,CAAC;SACZ,CAAC,CAAC;IACP,CAAC;IACL,QAAC;AAAD,CAAC,CAR8B,mBAAK,GAQnC;;;;;;;;;;;;;;ACd6D;AAC7B;AACJ;AAE7B,IAAM,GAAC,GAAG,KAAK,CAAC,MAAM,CAAC;AAEvB;IAA+B,uBAAK;IAChC;eACI,kBAAM,QAAQ,CAAC;YACX,CAAC,GAAC,EAAE,GAAC,CAAC;YACN,CAAC,GAAC,EAAE,GAAC,CAAC;SACT,CAAC,CAAC;IACP,CAAC;IACL,QAAC;AAAD,CAAC,CAP8B,mBAAK,GAOnC;;;;;;;;;;;;;;ACb6D;AAC7B;AACJ;AAE7B,IAAM,GAAC,GAAG,KAAK,CAAC,GAAG,CAAC;AAEpB;IAA+B,uBAAK;IAChC;eACI,kBAAM,QAAQ,CAAC;YACX,CAAC,CAAC,EAAE,GAAC,EAAE,GAAC,CAAC;YACT,CAAC,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SACZ,CAAC,CAAC;IACP,CAAC;IACL,QAAC;AAAD,CAAC,CAR8B,mBAAK,GAQnC;;;;;;;;;;;;;;ACd6D;AAC7B;AACJ;AAE7B,IAAM,GAAC,GAAG,KAAK,CAAC,MAAM,CAAC;AAEvB;IAA+B,uBAAK;IAChC;eACI,kBAAM,QAAQ,CAAC;YACX,CAAC,GAAC,EAAE,GAAC,EAAE,GAAC,CAAC;YACT,CAAC,CAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SACZ,CAAC,CAAC;IACP,CAAC;IACL,QAAC;AAAD,CAAC,CAR8B,mBAAK,GAQnC;;;;;;;;;;;;;;ACd6D;AAC7B;AACJ;AAE7B,IAAM,GAAC,GAAG,KAAK,CAAC,KAAK,CAAC;AAEtB;IAA+B,uBAAK;IAChC;eACI,kBAAM,QAAQ,CAAC;YACX,CAAC,GAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACT,CAAC,CAAC,EAAE,GAAC,EAAE,GAAC,CAAC;YACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SACZ,CAAC,CAAC;IACP,CAAC;IACL,QAAC;AAAD,CAAC,CAR8B,mBAAK,GAQnC;;;;ACdkC;AACA;AACA;AACA;AACA;AACA;AACA;AAEnC,IAAM,MAAM,GAAG,CAAC,eAAC,EAAE,eAAC,EAAE,eAAC,EAAE,eAAC,EAAE,eAAC,EAAE,eAAC,EAAE,eAAC,CAAC,CAAC;AAEvB;IACV,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;IAChE,MAAM,CAAC,IAAI,KAAK,EAAE,CAAC;AACvB,CAAC;;;ACb+C;AAEb;AACO;AACL;AACW;AACJ;AACI;AACe;AACV;AAGrD,IAAM,OAAO,GAAU,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACnD,IAAM,YAAQ,GAAG,EAAE,CAAC;AACpB,IAAM,SAAS,GAAU;IACrB,KAAK,EAAE,OAAO,CAAC,KAAK,GAAG,YAAQ;IAC/B,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,YAAQ;CACpC,CAAC;AAGF,IAAM,SAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;AACxC,IAAM,SAAK,GAAG,IAAI,mBAAK,CAAC,SAAS,CAAC,CAAC;AAGnC,IAAM,aAAa,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AACrC,IAAM,MAAM,GAAG,IAAI,oBAAM,CAAC,cAAc,EAAE,EAAE,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;AAGvE;IAEI,IAAM,MAAM,GAAG;QACX,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;QACpB,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC;KAC3B,CAAC;IAEF,EAAE,CAAC,CAAC,SAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;QAC9C,SAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;QAE3C,MAAM,CAAC,KAAK,GAAG,cAAc,EAAE,CAAC;QAChC,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC;IAChD,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC;IAC7B,CAAC;IAED,IAAI,EAAE,CAAC;AACX,CAAC;AAED;IACI,IAAM,UAAU,GAAG,aAAa,CAAC,SAAK,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;IAErF,UAAU,CAAC,SAAK,CAAC,CAAC;IAClB,QAAQ,CAAC,SAAK,EAAE,SAAS,CAAC,CAAC;IAC3B,UAAU,CAAC,SAAK,EAAE,UAAU,EAAE,YAAQ,CAAC,CAAC;AAC5C,CAAC;AAED,MAAM,EAAE,CAAC;AACT,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AAGhC,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAC;IAElC,IAAI,WAAW,GAAG;QACd,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;QACpB,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;KACvB,CAAC;IAEF,IAAI,SAAS,GAAG,IAAI,CAAC;IACrB,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACb,KAAK,SAAS;YACV,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAAC,MAAM,CAAC;YACrB,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YAGtB,EAAE,CAAC,CAAC,CAAC,SAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;gBACpD,WAAW,GAAG,MAAM,CAAC,oBAAoB,CAAC,SAAK,CAAC,CAAC;YACrD,CAAC;YAED,KAAK,CAAC;QACV,KAAK,YAAY;YACb,WAAW,CAAC,CAAC,EAAE,CAAC;YAChB,KAAK,CAAC;QACV,KAAK,WAAW;YACZ,WAAW,CAAC,CAAC,EAAE,CAAC;YAChB,KAAK,CAAC;QACV,KAAK,WAAW;YACZ,WAAW,CAAC,CAAC,EAAE,CAAC;YAChB,KAAK,CAAC;QACV;YACI,SAAS,GAAG,KAAK,CAAC;YAClB,KAAK,CAAC;IACd,CAAC;IAED,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACZ,EAAE,CAAC,CAAC,CAAC,SAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;YACpD,MAAM,CAAC,QAAQ,GAAG,WAAW,CAAC;QAClC,CAAC;QAED,IAAI,EAAE,CAAC;IACX,CAAC;AACL,CAAC,CAAC,CAAC","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 42262bd97d4d06f913c5","export default interface IPoint {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport function clonePoint(point: IPoint): IPoint {\r\n    return { x: point.x, y: point.y };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/interfaces/point.ts","import Matrix from '../interfaces/matrix';\r\nimport IPoint from '../interfaces/point';\r\nimport { ISize } from '../interfaces/size';\r\n\r\nexport function createMatrix(size: ISize): Matrix {\r\n    const result: Matrix = [];\r\n    for (let col = 0; col < size.width; col++) {\r\n        result[col] = new Array(size.height);\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function copyMatrix(matrix: Matrix): Matrix {\r\n    return matrix.reduce<Matrix>((result, col, x) => {\r\n        result[x] = col.slice();\r\n        return result;\r\n    }, []);\r\n}\r\n\r\n/**\r\n * Merges m1 and m2 into a new matrix with the size of m1\r\n * @param position Position of m2 on m1\r\n */\r\nexport function mergeMatrixes(m1: Matrix, m2: Matrix, position: IPoint, target?: Matrix): Matrix {\r\n    const result = target || copyMatrix(m1);\r\n\r\n    for (let i = 0; i < m2.length; i++) {\r\n        for (let j = 0; j < m2[0].length; j++) {\r\n            const value = m2[i][j];\r\n            if (typeof value === 'undefined') continue;\r\n\r\n            const x = i + position.x;\r\n            const y = j + position.y;\r\n\r\n            if (x >= 0 && x < m1.length &&\r\n                y >= 0 && y < m1[0].length &&\r\n                (value || !result[x][y])) {\r\n                result[x][y] = value;\r\n            }\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function addMatrix(target: Matrix, source: Matrix, position: IPoint): void {\r\n    mergeMatrixes(target, source, position, target);\r\n}\r\n\r\n/**\r\n * Transforms matrix to be used in the coordinate system\r\n */\r\nexport function xyMatrix(matrix: Matrix): Matrix {\r\n    return rotateMatrix(matrix)\r\n        .reduce<Matrix>((result, col, x) => {\r\n            // Flip columns\r\n            result[x] = col.reverse();\r\n            return result;\r\n        }, []);\r\n}\r\n\r\n/**\r\n * Rotate a square 2D matrix\r\n */\r\nexport function rotateMatrix(matrix: Matrix, reverse = false): Matrix {\r\n    const l = matrix.length;\r\n    const result = createMatrix({ width: l, height: l });\r\n\r\n    // Apply rotation\r\n    for (let x = 0; x < l; x++) {\r\n        for (let y = 0; y < l; y++) {\r\n            result[x][y] = reverse\r\n                ? matrix[l - y - 1][x]\r\n                : matrix[y][l - x - 1];\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Checks if child is not outside parent matrix\r\n */\r\nexport function matrixContains(parent: Matrix, child: Matrix, position: IPoint): boolean {\r\n    for (let i = 0; i < child.length; i++) {\r\n        const col = child[i];\r\n        for (let j = 0; j < col.length; j++) {\r\n            if (!col[j]) continue;\r\n\r\n            const x = i + position.x;\r\n            const y = j + position.y;\r\n\r\n            if (x < 0 || x >= parent.length ||\r\n                y < 0 || y >= parent[0].length) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport function matrixesColliding(m1: Matrix, m2: Matrix, position: IPoint): boolean {\r\n    for (let x = 0; x < m2.length; x++) {\r\n        for (let y = 0; y < m2[0].length; y++) {\r\n            if (!m2[x][y]) continue;\r\n            if (m1[x + position.x][y + position.y]) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/matrix-calculations.ts","import Matrix from '../interfaces/matrix';\r\nimport IPoint from '../interfaces/point';\r\nimport { ISize } from '../interfaces/size';\r\nimport { addMatrix, matrixContains, matrixesColliding } from '../services/matrix-calculations';\r\nimport Shape from './shape';\r\n\r\nexport default class Board {\r\n    private _blocks: Matrix;\r\n    public get blocks() { return this._blocks; }\r\n\r\n    public readonly size: ISize;\r\n\r\n    constructor(size: ISize) {\r\n        this.size = size;\r\n        this.clear();\r\n    }\r\n\r\n    public place(shape: Shape, position: IPoint) {\r\n        addMatrix(this.blocks, shape.blocks, position);\r\n    }\r\n\r\n    public clear(): void {\r\n        this._blocks = [];\r\n        for (let x = 0; x < this.size.width; x++) {\r\n            this._blocks[x] = new Array(this.size.height);\r\n        }\r\n    }\r\n\r\n    public contains(matrix: Matrix, position: IPoint): boolean {\r\n        return matrixContains(this._blocks, matrix, position);\r\n    }\r\n\r\n    public collides(matrix: Matrix, position: IPoint): boolean {\r\n        return !this.contains(matrix, position)\r\n            || matrixesColliding(this.blocks, matrix, position);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/board.ts","import { ISize } from '../interfaces/size';\r\n\r\nexport default interface IPanel {\r\n    ctx: CanvasRenderingContext2D;\r\n    size: ISize;\r\n}\r\n\r\nexport function getPanel(canvasID: string, size: ISize): IPanel {\r\n    const canvas = document.getElementById(canvasID) as HTMLCanvasElement;\r\n    if (!canvas) throw new Error('Canvas not found!');\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) throw new Error('Context not found!');\r\n\r\n    return { ctx, size };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/panel.ts","export function findIndex<T>(array: T[], predicate: (item: T, index: number) => boolean): number | undefined {\r\n    for (let i = 0; i < array.length; i++) {\r\n        const value = array[i];\r\n        if (predicate(value, i)) {\r\n            return i;\r\n        }\r\n    }\r\n}\r\n\r\nexport function findAny<T>(array: T[], predicate: (item: T, index: number) => boolean): boolean {\r\n    return typeof findIndex(array, predicate) !== 'undefined';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/arrays.ts","import IPoint, { clonePoint } from '../interfaces/point';\r\nimport { findAny, findIndex } from '../services/arrays';\r\nimport Board from './board';\r\nimport Shape from './shape';\r\n\r\nexport default class Player {\r\n    constructor(\r\n        public shape: Shape,\r\n        public position: IPoint\r\n    ) { }\r\n\r\n    /**\r\n     * Calculates a position for\r\n     * the player to be fully on the board\r\n     */\r\n    public getContainedPosition(board: Board): IPoint {\r\n        const position = clonePoint(this.position);\r\n\r\n        // Find lowest x value\r\n        const xLow = (findIndex(this.shape.blocks, col => {\r\n            // Column contains a value\r\n            return findAny(col, value => !!value);\r\n        }) as number) + position.x;\r\n\r\n        // Push shape to the right\r\n        if (xLow < 0) {\r\n            position.x += 0 - xLow;\r\n            return position;\r\n        }\r\n\r\n        // Find highest x value\r\n        const xHigh = this.shape.blocks.length -\r\n            (findIndex(this.shape.blocks.reverse(), col => {\r\n                // Column contains a value\r\n                return findAny(col, value => !!value);\r\n            }) as number) + position.x;\r\n\r\n        // Push shape to the left\r\n        if (xHigh > board.blocks.length) {\r\n            position.x -= xHigh - board.blocks.length;\r\n            return position;\r\n        }\r\n\r\n        return position;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/player.ts","import IPanel from '../models/panel';\r\n\r\nexport default function clearPanel(panel: IPanel): void {\r\n    panel.ctx.clearRect(0, 0, panel.size.width, panel.size.height);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/clear-panel.ts","import { ISize } from '../interfaces/size';\r\nimport IPanel from '../models/panel';\r\n\r\nexport default function drawGrid(panel: IPanel, gridSize: ISize): void {\r\n    const tileSize: ISize = {\r\n        width: panel.size.width / gridSize.width,\r\n        height: panel.size.height / gridSize.height\r\n    };\r\n\r\n    const { ctx } = panel;\r\n    ctx.strokeStyle = '#efefef';\r\n\r\n    for (let x = 0; x < panel.size.width; x += tileSize.width) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, 0);\r\n        ctx.lineTo(x, panel.size.height);\r\n        ctx.stroke();\r\n    }\r\n\r\n    for (let y = 0; y < panel.size.height; y += tileSize.height) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y);\r\n        ctx.lineTo(panel.size.width, y);\r\n        ctx.stroke();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/draw-grid.ts","export enum Color {\r\n    Yellow = 1,\r\n    Blue = 2,\r\n    Red = 3,\r\n    Green = 4,\r\n    Orange = 5,\r\n    Pink = 6,\r\n    Purple = 7\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/color.ts","const settings = {\r\n    drawEmptyTiles: false\r\n};\r\n\r\nexport default settings;\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/settings.ts","import Matrix from '../interfaces/matrix';\r\nimport { Color } from '../models/color';\r\nimport IPanel from '../models/panel';\r\nimport settings from '../settings';\r\n\r\nexport default function drawMatrix(panel: IPanel, matrix: Matrix, tileSize: number): void {\r\n    const ctx = panel.ctx;\r\n\r\n    matrix.forEach((col, x) => col.forEach((item, y) => {\r\n        if (typeof item === 'undefined' ||\r\n            !settings.drawEmptyTiles && !item) return;\r\n\r\n        ctx.fillStyle = item ? getColorCode(item) : '#8ED6FF';\r\n        ctx.fillRect(x * tileSize, y * tileSize, tileSize, tileSize);\r\n    }));\r\n}\r\n\r\nfunction getColorCode(color: Color): string {\r\n    switch (color) {\r\n        case Color.Yellow:\r\n            return '#ffeb3b';\r\n        case Color.Blue:\r\n            return '#03a9f4';\r\n        case Color.Red:\r\n            return '#f44336';\r\n        case Color.Green:\r\n            return '#4caf50';\r\n        case Color.Orange:\r\n            return '#ff9800';\r\n        case Color.Pink:\r\n            return '#fbafbc';\r\n        case Color.Purple:\r\n            return '#9c27b0';\r\n        default:\r\n            return '#000';\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/draw-matrix.ts","import Matrix from '../interfaces/matrix';\r\nimport { rotateMatrix } from '../services/matrix-calculations';\r\n\r\nexport default class Shape {\r\n    private _blocks: Matrix;\r\n    public get blocks() {\r\n        return this._blocks;\r\n    }\r\n\r\n    constructor(blocks: Matrix) {\r\n        this._blocks = blocks;\r\n    }\r\n\r\n    public rotate(reverse = false): void {\r\n        this._blocks = rotateMatrix(this._blocks, reverse);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shape.ts","import { xyMatrix } from '../../services/matrix-calculations';\r\nimport { Color } from '../color';\r\nimport Shape from '../shape';\r\n\r\nconst c = Color.Blue;\r\n\r\nexport default class I extends Shape {\r\n    constructor() {\r\n        super(xyMatrix([\r\n            [0, c, 0, 0],\r\n            [0, c, 0, 0],\r\n            [0, c, 0, 0],\r\n            [0, c, 0, 0]\r\n        ]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shapes/i.ts","import { xyMatrix } from '../../services/matrix-calculations';\r\nimport { Color } from '../color';\r\nimport Shape from '../shape';\r\n\r\nconst c = Color.Pink;\r\n\r\nexport default class J extends Shape {\r\n    constructor() {\r\n        super(xyMatrix([\r\n            [0, c, 0],\r\n            [0, c, 0],\r\n            [c, c, 0]\r\n        ]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shapes/j.ts","import { xyMatrix } from '../../services/matrix-calculations';\r\nimport { Color } from '../color';\r\nimport Shape from '../shape';\r\n\r\nconst c = Color.Orange;\r\n\r\nexport default class L extends Shape {\r\n    constructor() {\r\n        super(xyMatrix([\r\n            [0, c, 0],\r\n            [0, c, 0],\r\n            [0, c, c]\r\n        ]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shapes/l.ts","import { xyMatrix } from '../../services/matrix-calculations';\r\nimport { Color } from '../color';\r\nimport Shape from '../shape';\r\n\r\nconst c = Color.Yellow;\r\n\r\nexport default class O extends Shape {\r\n    constructor() {\r\n        super(xyMatrix([\r\n            [c, c],\r\n            [c, c]\r\n        ]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shapes/o.ts","import { xyMatrix } from '../../services/matrix-calculations';\r\nimport { Color } from '../color';\r\nimport Shape from '../shape';\r\n\r\nconst c = Color.Red;\r\n\r\nexport default class S extends Shape {\r\n    constructor() {\r\n        super(xyMatrix([\r\n            [0, c, c],\r\n            [c, c, 0],\r\n            [0, 0, 0]\r\n        ]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shapes/s.ts","import { xyMatrix } from '../../services/matrix-calculations';\r\nimport { Color } from '../color';\r\nimport Shape from '../shape';\r\n\r\nconst c = Color.Purple;\r\n\r\nexport default class T extends Shape {\r\n    constructor() {\r\n        super(xyMatrix([\r\n            [c, c, c],\r\n            [0, c, 0],\r\n            [0, 0, 0]\r\n        ]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shapes/t.ts","import { xyMatrix } from '../../services/matrix-calculations';\r\nimport { Color } from '../color';\r\nimport Shape from '../shape';\r\n\r\nconst c = Color.Green;\r\n\r\nexport default class Z extends Shape {\r\n    constructor() {\r\n        super(xyMatrix([\r\n            [c, c, 0],\r\n            [0, c, c],\r\n            [0, 0, 0]\r\n        ]));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/shapes/z.ts","import I from '../models/shapes/i';\r\nimport J from '../models/shapes/j';\r\nimport L from '../models/shapes/l';\r\nimport O from '../models/shapes/o';\r\nimport S from '../models/shapes/s';\r\nimport T from '../models/shapes/t';\r\nimport Z from '../models/shapes/z';\r\n\r\nconst shapes = [I, J, L, O, S, T, Z];\r\n\r\nexport default function getRandomShape() {\r\n    const Shape = shapes[Math.floor(Math.random() * shapes.length)];\r\n    return new Shape();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/random-shape.ts","import { clonePoint } from './interfaces/point';\r\nimport { ISize } from './interfaces/size';\r\nimport Board from './models/board';\r\nimport { getPanel } from './models/panel';\r\nimport Player from './models/player';\r\nimport clearPanel from './services/clear-panel';\r\nimport drawGrid from './services/draw-grid';\r\nimport drawMatrix from './services/draw-matrix';\r\nimport { mergeMatrixes } from './services/matrix-calculations';\r\nimport getRandomShape from './services/random-shape';\r\n\r\n// Define sizes\r\nconst ctxSize: ISize = { width: 400, height: 600 };\r\nconst tileSize = 20;\r\nconst boardSize: ISize = {\r\n    width: ctxSize.width / tileSize,\r\n    height: ctxSize.height / tileSize\r\n};\r\n\r\n// Create panel\r\nconst panel = getPanel('game', ctxSize);\r\nconst board = new Board(boardSize);\r\n\r\n// Place a random shape\r\nconst startingPoint = { x: 9, y: 0 };\r\nconst player = new Player(getRandomShape(), clonePoint(startingPoint));\r\n\r\n// Update loop\r\nfunction update(): void {\r\n    // TODO: Only draw changes\r\n    const newPos = {\r\n        x: player.position.x,\r\n        y: player.position.y + 1\r\n    };\r\n\r\n    if (board.collides(player.shape.blocks, newPos)) {\r\n        board.place(player.shape, player.position);\r\n\r\n        player.shape = getRandomShape();\r\n        player.position = clonePoint(startingPoint);\r\n    } else {\r\n        player.position = newPos;\r\n    }\r\n\r\n    draw();\r\n}\r\n\r\nfunction draw(): void {\r\n    const viewMatrix = mergeMatrixes(board.blocks, player.shape.blocks, player.position);\r\n\r\n    clearPanel(panel);\r\n    drawGrid(panel, boardSize);\r\n    drawMatrix(panel, viewMatrix, tileSize);\r\n}\r\n\r\nupdate();\r\nwindow.setInterval(update, 500);\r\n\r\n// Key handling\r\ndocument.addEventListener('keydown', e => {\r\n\r\n    let newPosition = {\r\n        x: player.position.x,\r\n        y: player.position.y\r\n    };\r\n\r\n    let triggered = true;\r\n    switch (e.code) {\r\n        case 'ArrowUp':\r\n            if (e.repeat) return;\r\n            player.shape.rotate();\r\n\r\n            // Push shape back on to the board\r\n            if (!board.contains(player.shape.blocks, newPosition)) {\r\n                newPosition = player.getContainedPosition(board);\r\n            }\r\n\r\n            break;\r\n        case 'ArrowRight':\r\n            newPosition.x++;\r\n            break;\r\n        case 'ArrowDown':\r\n            newPosition.y++;\r\n            break;\r\n        case 'ArrowLeft':\r\n            newPosition.x--;\r\n            break;\r\n        default:\r\n            triggered = false;\r\n            break;\r\n    }\r\n\r\n    if (triggered) {\r\n        if (!board.collides(player.shape.blocks, newPosition)) {\r\n            player.position = newPosition;\r\n        }\r\n\r\n        draw();\r\n    }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/index.ts"],"sourceRoot":""}